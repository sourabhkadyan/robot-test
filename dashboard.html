<!DOCTYPE html>
<html>
<head>
  <style>
    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }
    td, th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }
    th {
      background-color: #dddddd;
    }
  </style>
</head>
<body>
  <h2>Robot Framework Result Dashboard</h2>
  <table id="testResults">
  <tr>
    <th>Test Name</th>
    <th>Status</th>
    <th>Message</th>
  </tr>
   <script>
    const xhttp = new XMLHttpRequest();
    xhttp.open("GET", "/result/report.html", false);
    xhttp.send();
    const parser = new DOMParser();
    const htmlDoc = parser.parseFromString(xhttp.responseText, "text/html");
    const testCases = htmlDoc.getElementsByClassName("col-md-3");
    for (let i = 0; i < testCases.length; i++) {
      const testCase = testCases[i];
      const testName = testCase.getElementsByTagName("a")[0].textContent;
      const status = testCase.getElementsByClassName("status")[0].textContent;
      let message = "";
      if (testCase.getElementsByClassName("message").length > 0) {
        message = testCase.getElementsByClassName("message")[0].textContent;
      }
      document.write("<tr><td>" + testName + "</td><td>" + status + "</td><td>" + message + "</td></tr>");
    }
  </script>
</table>

</body>
</html>
